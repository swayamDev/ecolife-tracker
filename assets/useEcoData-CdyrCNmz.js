import{r as c}from"./index-r7bsero3.js";const w=[{id:"cycle",name:"Cycling instead of driving",co2Saved:2.3,icon:"ðŸš´",category:"transport"},{id:"walk",name:"Walking instead of driving",co2Saved:2.3,icon:"ðŸš¶",category:"transport"},{id:"bus",name:"Taking public transport",co2Saved:1.1,icon:"ðŸšŒ",category:"transport"},{id:"cloth-bag",name:"Using reusable bags",co2Saved:.1,icon:"ðŸ‘œ",category:"shopping"},{id:"water-bottle",name:"Using reusable water bottle",co2Saved:.2,icon:"ðŸ¶",category:"daily"},{id:"led-bulb",name:"Using LED bulbs",co2Saved:.5,icon:"ðŸ’¡",category:"energy"},{id:"unplug",name:"Unplugging devices",co2Saved:.3,icon:"ðŸ”Œ",category:"energy"},{id:"cold-water",name:"Washing clothes in cold water",co2Saved:.8,icon:"ðŸŒŠ",category:"energy"},{id:"vegetarian",name:"Eating vegetarian meal",co2Saved:1.5,icon:"ðŸ¥—",category:"food"},{id:"local-food",name:"Buying local produce",co2Saved:.7,icon:"ðŸ¥•",category:"food"}],d=[{id:"starter",name:"Eco Starter",description:"Save your first 1kg of COâ‚‚",icon:"ðŸŒ±",requirement:1,earned:!1},{id:"warrior",name:"Green Warrior",description:"Save 10kg of COâ‚‚",icon:"ðŸ›¡ï¸",requirement:10,earned:!1},{id:"hero",name:"Eco Hero",description:"Save 50kg of COâ‚‚",icon:"ðŸ¦¸",requirement:50,earned:!1},{id:"champion",name:"Earth Champion",description:"Save 100kg of COâ‚‚",icon:"ðŸ†",requirement:100,earned:!1},{id:"legend",name:"Eco Legend",description:"Save 250kg of COâ‚‚",icon:"â­",requirement:250,earned:!1}],D=["Every small action counts towards a greener planet! ðŸŒ","The best time to plant a tree was 20 years ago. The second best time is now. ðŸŒ³","Reduce, reuse, recycle - the 3 Rs of sustainability! â™»ï¸","Switching to LED bulbs can save up to 80% energy! ðŸ’¡","Walking or cycling just 1 mile saves 1kg of COâ‚‚! ðŸš´â€â™€ï¸","Using a reusable water bottle can save 1,460 plastic bottles per year! ðŸ¶","Going vegetarian one day a week can save 1,900 lbs of COâ‚‚ annually! ðŸ¥—"],l=(a,r)=>{try{return localStorage.setItem(a,JSON.stringify(r)),!0}catch(n){return console.error("Failed to save to localStorage:",n),!1}},g=(a,r=null)=>{try{const n=localStorage.getItem(a);return n?JSON.parse(n):r}catch(n){return console.error("Failed to load from localStorage:",n),r}},b=a=>Math.round(a/21*100)/100,h=()=>{const[a,r]=c.useState([]),[n,i]=c.useState(d),[u,m]=c.useState(0);return c.useEffect(()=>{const o=g("ecoActions",[]),t=g("ecoBadges",d);r(o),i(t)},[]),c.useEffect(()=>{const o=a.reduce((e,s)=>e+s.co2Saved,0);m(o);const t=n.map(e=>!e.earned&&o>=e.requirement?{...e,earned:!0,unlockedAt:new Date}:e);i(t),l("ecoActions",a),l("ecoBadges",t)},[a]),{loggedActions:a,badges:n,totalCO2Saved:u,logAction:(o,t)=>{const e={id:Date.now().toString(),actionId:o,date:new Date,co2Saved:t};r(s=>[...s,e])},getRecentActions:(o=7)=>{const t=new Date;return t.setDate(t.getDate()-o),a.filter(e=>new Date(e.date)>=t)},getTodaysCO2:()=>{const o=new Date;return o.setHours(0,0,0,0),a.filter(t=>{const e=new Date(t.date);return e.setHours(0,0,0,0),e.getTime()===o.getTime()}).reduce((t,e)=>t+e.co2Saved,0)},getNewlyEarnedBadges:()=>n.filter(o=>{if(!o.earned||!o.unlockedAt)return!1;const t=new Date(o.unlockedAt),e=new Date;return e.setHours(e.getHours()-24),t>e})}};export{w as a,b as c,D as e,h as u};
