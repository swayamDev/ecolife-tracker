import{c as w,r as c,j as e,d as b,P as C,e as A,u as k,f as d,E as m,L,b as h}from"./index-CdDq0PlB.js";import{u as E,a as p}from"./useEcoData-BNF8Ui8H.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=w("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),u=c.forwardRef(({className:r,type:o,...s},l)=>e.jsx("input",{type:o,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:l,...s}));u.displayName="Input";var M="Label",j=c.forwardRef((r,o)=>e.jsx(C.label,{...r,ref:o,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=r.onMouseDown)==null||n.call(r,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));j.displayName=M;var v=j;const O=A("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=c.forwardRef(({className:r,...o},s)=>e.jsx(v,{ref:s,className:b(O(),r),...o}));x.displayName=v.displayName;const D=()=>{const{logAction:r}=E(),{toast:o}=k(),[s,l]=c.useState({name:"",co2:""}),[n,g]=c.useState(null),f=async(t,i,a)=>{g(t),setTimeout(()=>{r(t,i),o({title:"Action Logged! ðŸŽ‰",description:`You saved ${i}kg of COâ‚‚ by ${a.toLowerCase()}!`,duration:3e3}),g(null)},500)},N=()=>{if(!s.name.trim()||!s.co2.trim()){o({title:"Missing Information",description:"Please fill in both action name and COâ‚‚ amount.",variant:"destructive"});return}const t=parseFloat(s.co2);if(isNaN(t)||t<=0){o({title:"Invalid COâ‚‚ Amount",description:"Please enter a valid positive number for COâ‚‚ savings.",variant:"destructive"});return}f("custom",t,s.name),l({name:"",co2:""})},y=[...new Set(p.map(t=>t.category))];return e.jsx("div",{className:"min-h-screen bg-gradient-subtle pb-20 md:pb-8 md:pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-eco-energy text-white px-6 py-2 rounded-full shadow-energy",children:[e.jsx(d,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Log Eco Action"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Make Your Impact Count! ðŸŒ±"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Every eco-friendly action you take makes a difference"})]}),y.map(t=>{const i=p.filter(a=>a.category===t);return e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-primary capitalize flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),t.replace("-"," ")]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/50 rounded-xl border border-border hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:a.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Saves ",a.co2Saved,"kg COâ‚‚"]})]})]}),e.jsx(h,{size:"sm",onClick:()=>f(a.id,a.co2Saved,a.name),disabled:n===a.id,className:"min-w-[80px]",children:n===a.id?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-4 w-4"}),"Log"]})})]},a.id))})]})},t)}),e.jsx(m,{variant:"gradient",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-primary-foreground flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5"}),"Custom Eco Action"]}),e.jsx("p",{className:"text-primary-foreground/80",children:"Did something eco-friendly that's not listed? Add your own action!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"custom-name",className:"text-primary-foreground",children:"Action Name"}),e.jsx(u,{id:"custom-name",placeholder:"e.g., Composting kitchen waste",value:s.name,onChange:t=>l(i=>({...i,name:t.target.value})),className:"mt-1 bg-white/20 border-white/30 text-primary-foreground placeholder:text-primary-foreground/60"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"custom-co2",className:"text-primary-foreground",children:"COâ‚‚ Saved (kg)"}),e.jsx(u,{id:"custom-co2",type:"number",step:"0.1",placeholder:"e.g., 0.5",value:s.co2,onChange:t=>l(i=>({...i,co2:t.target.value})),className:"mt-1 bg-white/20 border-white/30 text-primary-foreground placeholder:text-primary-foreground/60"})]}),e.jsx(h,{onClick:N,variant:"outline",className:"w-full border-white text-white hover:bg-white hover:text-primary",disabled:n==="custom",children:n==="custom"?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"h-4 w-4"}),"Log Custom Action"]})})]})]})}),e.jsx(m,{className:"text-center",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Keep Going! ðŸš€"}),e.jsx("p",{className:"text-muted-foreground",children:"Every action you log brings us one step closer to a sustainable future. Your efforts inspire others to make a difference too!"})]})})]})})};export{D as default};
